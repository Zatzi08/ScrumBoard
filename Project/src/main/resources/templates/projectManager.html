<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projektmanager</title>
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/projectManager.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type = "text/javascript">
        function ansichtDropdown() {
            document.getElementById("ansichtDropdownContent").classList.toggle("show");
        }
        function filterDropdown() {
            document.getElementById("filterDropdownContent").classList.toggle("show");
        }
        //wenn wir nicht im dropdown klicken
        window.onclick = function(event) {
            if (!event.target.matches('.ansichtBtn')) {
                document.getElementById("ansichtDropdownContent").classList.remove("show");
            }
            if (!event.target.matches('.filterBtn')) {
                document.getElementById("filterDropdownContent").classList.remove("show");
            }
        }
        //damit bottom-border beim hovern lila wird, hab die weiße Border gehardcodet, weswegen das in css nicht funktioniert hatte
        function hover(){
            document.getElementById('pjBtn').style.borderColor = "#ba55d3";
        }
        function hoverLeave() {
            document.getElementById('pjBtn').style.borderColor = "#fff";
        }

        function taskAusklappen() {
            const taskContainer = document.getElementById("taskContainer");
            const ausklappbarBtn = document.getElementById("ausklappbarBtn");

            if (taskContainer.classList.contains("show")) {
                taskContainer.classList.remove("show");
                ausklappbarBtn.classList.remove("rotate");
            } else {
                taskContainer.classList.add("show");
                ausklappbarBtn.classList.add("rotate");
            }
        }

        function toggleEditBox() {
            const toggleEditBox = document.querySelector('.toggleEdit');
            toggleEditBox.classList.toggle('visible');

            if (toggleEditBox.classList.contains('visible')) {
                toggleEditBox.style.right = '0';
            }
            else {
                toggleEditBox.style.right = '-350px';
            }
        }

        function highlightPriorityButton(buttonId) {
            const priorityButtons = document.querySelectorAll('.inputEditPrio');
            priorityButtons.forEach(button => {
                if (button.id === buttonId) {
                    button.classList.add('selected');
                } else {
                    button.classList.remove('selected');
                }
            });
        }

    </script>
</head>
<body>
    <div class="Reiter">
        <button class="reiterBtn" onmouseover = "hover()" onmouseleave="hoverLeave()" id = "pjBtn" style = "border-bottom: 1px solid #ffffff;">Projekt Manager</button>
        <button class = "reiterBtn" id = "profilBtn">Profil </button>
        <button class = "reiterBtn" id = "boardBtn">Task-Board </button>
        <button class = "reiterBtn" id = "kalenderBtn">Kalender </button>
    </div>

    <div class="container">
        <div class="ansichtDropdown"> <!-- PK-->
            <button onClick= "ansichtDropdown()"id="ansichtBtn" class = "ansichtBtn"><i class="fa fa-level-down" style="margin-right: 8px;"></i> Ansicht</button>
            <div id="ansichtDropdownContent" class="ansichtdropdown-content">
                <a href="#">All</a>
                <a href="#">User Stories</a>
                <a href="#">Tasks</a>
                <a href="#">Schätzungstracker</a>
                <a href="#">Planning Poker</a>
            </div>
        </div>
        <div class = "filterDropdown">
            <button onClick = "filterDropdown()"id="filterBtn" class = "filterBtn"><i class="fa fa-filter" style="margin-right: 8px;"></i> Filter</button>
            <div id = "filterDropdownContent" class = filterdropdown-content>
                <a href="#">All</a>
                <a href="#">Due Date</a>
                <a href="#">Priority</a>
                <a href="#">Aufwand</a>
                <a href="#">Category?</a>
            </div>
        </div>
        <div class="suchleiste">
            <ul class="menu">
                <li><input type="search" placeholder="Search" id = "sucheInput"></li>
                <li><button type="button" class="searchBtn"><i class="fa fa-search" style="margin-right: 8px;"></i></button></li>
            </ul>
        </div>

        <div class = userStoryContainer>
            <ul>
                <li>
                    <div class = "userStoryText">
                        <label id = "userStoryTitel">Titel</label>
                        <label id = "userStoryBeschreibung">Beschreibung</label>
                    </div>

                <button class = "editBtn" onclick="toggleEditBox()"> <i class="fa fa-edit" style="margin-right: 8px;"></i></button>
                    <button type="button" id = "ausklappbarBtn" onClick="taskAusklappen()"> > </button>
                    <div id="taskContainer">
                        <div id="taskInhalt">
                            <button id = "neueTaskBtn">Neue Task <i class="fa fa-plus" ></i></button>
                            <label id="taskBeschreibung">Noch keine Tasks..</label>
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <div class = "toggleEdit">
            <label style="color: white"><i class="fa-pencil" style="margin-right: 8px;"></i>Bearbeitungsmenu</label>
            <span id="closeToggleEdit" class="closeToggleEdit" onclick="toggleEditBox()">&times;</span>
            <div class="userStoryEditInput">
                <form class="form">
                    <div>
                        <label for="inputName" >Name</label>
                        <textarea id="inputName" class="inputEdit"></textarea>
                        <label for="inputDesc">Beschreibung</label>
                    </div>
                    <textarea id="inputDesc" class="inputEdit"></textarea>
                        <label>Priorität</label>
                        <button id="inputPrioUrgent" class="inputEditPrio" onclick="highlightPriorityButton('inputPrioUrgent')">Urgent</button>
                        <button id="inputPrioHigh" class="inputEditPrio" onclick="highlightPriorityButton('inputPrioHigh')">High</button>
                        <button id="inputPrioNormal" class="inputEditPrio" onclick="highlightPriorityButton('inputPrioNormal')">Normal</button>
                        <button id="inputPrioLow" class="inputEditPrio" onclick="highlightPriorityButton('inputPrioLow')">Low</button>
                    <label>Abgabefrist</label>
                    <input type="datetime-local" id="inputDate" class="inputBtn">
                    <input type="hidden">
                </form>
            </div>
            <button id="saveEdit">Speichern</button>
        </div>
    </div>

    <script src="js/vendor/jquery.js"></script>
    <script src="js/vendor/what-input.js"></script>
    <script src="js/vendor/foundation.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
